<div class="assumption-table-view-container">
  <div id="assumption-table-view">
    <div class="assumption-page" id="assumptionId" *ngIf="dataSource.data.length > 0">
      <table mat-table [dataSource]="dataSource" class="assumption-table">
        <ng-container matColumnDef="no">
          <th mat-header-cell *matHeaderCellDef> No. </th>
          <td mat-cell *matCellDef="let row">
            ASM{{row.rowNumber}}
          </td>
        </ng-container>
        <ng-container matColumnDef="content">
          <th mat-header-cell *matHeaderCellDef> Assumption </th>
          <td mat-cell *matCellDef="let row; let i = renderIndex;">
            <mat-form-field appearance="none" style="width:100%;">
              <textarea [readonly]="true" matInput placeholder="Component" style="padding-top:10px;" cdkTextareaAutosize
                #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="2" cdkAutosizeMaxRows="2"
                [(ngModel)]="row.content"></textarea>
            </mat-form-field>
          </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let row; let i = index" (click)="$event.stopPropagation()">
            <button [disabled]="editDesignShared.projectStatus?.milestoneView" mat-raised-button
              [matMenuTriggerFor]="assumptionBtnMenu">
              <mat-icon>more_horiz</mat-icon>
            </button>
            <mat-menu #assumptionBtnMenu="matMenu">
              <button mat-menu-item (click)="deleteRow(row)">
                <mat-icon>remove</mat-icon>
                Delete Assumption
              </button>
              <button mat-menu-item (click)="openAssumptionDialog({},'added')">
                <mat-icon>add</mat-icon>
                Add New Assumption
              </button>
              <button mat-menu-item (click)="toggleHighlight(row)">
                <mat-icon>help_outline</mat-icon>
                {{ row.highlighted ? "Remove Highlight" : "Highlight" }}
              </button>
            </mat-menu>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
        <tr mat-row *matRowDef="let row; let i=index; columns: displayedColumns;"
          [style.background-color]="row|rowColor" [id]="row._id" (click)="openAssumptionDialog(row,'updated')">
        </tr>
      </table>
    </div>
  </div>
</div>
<div *ngIf="dataSource.data.length == 0" class="ifempty">
  <p>No assumption found</p>
  <br>
  <button [disabled]="editDesignShared.projectStatus?.milestoneView" [color]="'primary'" class="add-new-btn"
    mat-raised-button (click)="openAssumptionDialog({},'added')">+ Add New Assumption</button>
</div>
<ngx-spinner name="assumption-spinner"></ngx-spinner>